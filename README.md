# TaskWizard

<div align="center">

**AI é©±åŠ¨çš„ Android è‡ªåŠ¨åŒ–ä»»åŠ¡æ‰§è¡Œåº”ç”¨**

åŸºäº Open-AutoGLM é¡¹ç›®çš„ Android åŸç”Ÿå®ç°

[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](LICENSE)
[![Android](https://img.shields.io/badge/Android-8.0%2B-green.svg)](https://developer.android.com)
[![Kotlin](https://img.shields.io/badge/Kotlin-2.0.0-purple.svg)](https://kotlinlang.org)
[![Jetpack Compose](https://img.shields.io/badge/Jetpack%20Compose-2024.02.00-blue.svg)](https://developer.android.com/jetpack/compose)

</div>

---

## ğŸ“– ç›®å½•

- [ç®€ä»‹](#-ç®€ä»‹)
- [æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [æŠ€æœ¯æ¶æ„](#-æŠ€æœ¯æ¶æ„)
- [ç³»ç»Ÿè¦æ±‚](#-ç³»ç»Ÿè¦æ±‚)
- [å®‰è£…](#-å®‰è£…)
- [ä½¿ç”¨æŒ‡å—](#-ä½¿ç”¨æŒ‡å—)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)
- [é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)
- [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#-è®¸å¯è¯)

---

## ğŸ¯ ç®€ä»‹

**TaskWizard** æ˜¯ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„ Android è‡ªåŠ¨åŒ–åº”ç”¨ï¼Œèƒ½å¤Ÿé€šè¿‡ AI è§†è§‰ç†è§£å’Œè‡ªç„¶è¯­è¨€å¤„ç†ï¼Œè‡ªåŠ¨æ‰§è¡Œå¤æ‚çš„å¤šæ­¥éª¤ä»»åŠ¡ã€‚åº”ç”¨ä½¿ç”¨ Jetpack Compose æ„å»ºç°ä»£åŒ– UIï¼Œé›†æˆ Shizuku æ¡†æ¶å®ç°ç³»ç»Ÿçº§æ“ä½œï¼Œæä¾›å®æ—¶æ‚¬æµ®çª—ç›‘æ§ä»»åŠ¡æ‰§è¡Œè¿›åº¦ã€‚

### åº”ç”¨åœºæ™¯

- ğŸ›’ **è‡ªåŠ¨åŒ–è´­ç‰©**ï¼šæœç´¢å•†å“ã€æ¯”ä»·ã€åŠ è´­ã€ç»“ç®—
- ğŸ“ **è¡¨å•å¡«å†™**ï¼šè‡ªåŠ¨å¡«å†™æ³¨å†Œè¡¨å•ã€é—®å·è°ƒæŸ¥
- ğŸ—ºï¸ **å¯¼èˆªæ“ä½œ**ï¼šæ‰“å¼€åœ°å›¾ã€æœç´¢åœ°ç‚¹ã€è§„åˆ’è·¯çº¿
- ğŸ“± **åº”ç”¨æ“ä½œ**ï¼šæ‰¹é‡å¤„ç†ã€æ•°æ®è¿ç§»ã€è®¾ç½®é…ç½®
- ğŸ”„ **é‡å¤ä»»åŠ¡**ï¼šå®šæœŸæ‰§è¡Œçš„æ—¥å¸¸æ“ä½œè‡ªåŠ¨åŒ–

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¤– AI é©±åŠ¨çš„æ™ºèƒ½æ‰§è¡Œ

- **è§†è§‰ç†è§£**ï¼šé€šè¿‡å±å¹•æˆªå›¾åˆ†æå½“å‰ç•Œé¢çŠ¶æ€
- **ä»»åŠ¡è§„åˆ’**ï¼šåŸºäºè‡ªç„¶è¯­è¨€æè¿°è‡ªåŠ¨è§„åˆ’æ‰§è¡Œæ­¥éª¤
- **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**ï¼šç†è§£åº”ç”¨çŠ¶æ€å’Œç”¨æˆ·æ„å›¾
- **è‡ªé€‚åº”æ‰§è¡Œ**ï¼šæ ¹æ®ç•Œé¢å˜åŒ–åŠ¨æ€è°ƒæ•´ç­–ç•¥

### ğŸ¨ ç°ä»£åŒ–ç”¨æˆ·ç•Œé¢

- **Jetpack Compose**ï¼šå®Œå…¨ä½¿ç”¨ Compose æ„å»ºçš„å“åº”å¼ UI
- **Material Design 3**ï¼šéµå¾ªæœ€æ–°è®¾è®¡è§„èŒƒ
- **ä¸»é¢˜æ”¯æŒ**ï¼šäº®è‰²/æš—è‰²/Pure Black ä¸‰ç§ä¸»é¢˜
- **æµç•…åŠ¨ç”»**ï¼šä¸°å¯Œçš„è¿‡æ¸¡åŠ¨ç”»å’Œäº¤äº’åé¦ˆ

### ğŸ”’ å®‰å…¨å¯æ§

- **æ•æ„Ÿæ“ä½œç¡®è®¤**ï¼šæ¶‰åŠè´¢äº§ã€æ”¯ä»˜ã€éšç§çš„æ“ä½œéœ€è¦ç”¨æˆ·ç¡®è®¤
- **äººå·¥ä»‹å…¥**ï¼šæ”¯æŒéšæ—¶æš‚åœå¹¶æ‰‹åŠ¨æ¥ç®¡
- **æƒé™ç®¡ç†**ï¼šåŸºäº Shizuku çš„å®‰å…¨æƒé™æ¨¡å‹
- **æ“ä½œè®°å½•**ï¼šå®Œæ•´çš„æ‰§è¡Œæ—¥å¿—å’Œæ€è€ƒè¿‡ç¨‹

### ğŸ“Š å®æ—¶ç›‘æ§

- **æ‚¬æµ®çª—æ˜¾ç¤º**ï¼šå®æ—¶æ˜¾ç¤ºä»»åŠ¡æ‰§è¡ŒçŠ¶æ€
- **æ€è€ƒè¿‡ç¨‹å¯è§†åŒ–**ï¼šå±•ç¤º AI çš„æ¨ç†å’Œå†³ç­–è¿‡ç¨‹
- **æ­¥éª¤è¿½è¸ª**ï¼šæ˜¾ç¤ºå½“å‰æ‰§è¡Œæ­¥éª¤å’Œè¿›åº¦
- **é”™è¯¯æç¤º**ï¼šåŠæ—¶åé¦ˆæ‰§è¡Œå¼‚å¸¸

### âš¡ é«˜æ€§èƒ½ä¼˜åŒ–

- **ä¸å¯å˜é›†åˆ**ï¼šä½¿ç”¨ Kotlinx Immutable Collections ä¼˜åŒ– Compose æ€§èƒ½
- **ç¼–è¯‘å™¨æŒ‡æ ‡**ï¼šå¯ç”¨ Compose Compiler Metrics åˆ†æé‡ç»„
- **åç¨‹ç®¡ç†**ï¼šç»Ÿä¸€çš„ä»»åŠ¡ä½œç”¨åŸŸå’Œç”Ÿå‘½å‘¨æœŸç®¡ç†
- **å†…å­˜ä¼˜åŒ–**ï¼šè‡ªåŠ¨æ¸…ç†å†å²å›¾ç‰‡ä»¥èŠ‚çœ token

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **Kotlin** | 2.0.0 | ä¸»è¦ç¼–ç¨‹è¯­è¨€ |
| **Jetpack Compose** | 2024.02.00 | UI æ¡†æ¶ |
| **Coroutines** | 1.7.3 | å¼‚æ­¥ç¼–ç¨‹ |
| **Retrofit** | 2.9.0 | HTTP å®¢æˆ·ç«¯ |
| **Shizuku** | 13.1.5 | ç³»ç»Ÿæƒé™ç®¡ç† |
| **Navigation Compose** | 2.7.6 | é¡µé¢å¯¼èˆª |
| **ViewModel** | 2.7.0 | çŠ¶æ€ç®¡ç† |

### æ¶æ„æ¨¡å¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      UI Layer (Compose)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ MainScreen   â”‚  â”‚SettingsScreenâ”‚  â”‚OverlayContentâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                 â”‚                  â”‚           â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                           â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ViewModel Layer                        â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚         â”‚        MainViewModel               â”‚            â”‚
â”‚         â”‚  - AppState Management             â”‚            â”‚
â”‚         â”‚  - Task Coordination               â”‚            â”‚
â”‚         â”‚  - Lifecycle Management            â”‚            â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Core Layer                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  AgentCore   â”‚  â”‚ActionExecutorâ”‚  â”‚ResponseParserâ”‚  â”‚
â”‚  â”‚  (AI Logic)  â”‚  â”‚ (Execution)  â”‚  â”‚  (Parsing)   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                 â”‚                  â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                 â”‚                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â”‚        Integration Layer           â”‚           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ApiClient   â”‚  â”‚ShizukuManagerâ”‚  â”‚OverlayServiceâ”‚  â”‚
â”‚  â”‚ (OpenAI API) â”‚  â”‚(System Ops)  â”‚  â”‚(Foreground)  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæ¨¡å—è¯´æ˜

#### 1. **AgentCore** - AI æ ¸å¿ƒå¼•æ“
- ç®¡ç†ä¸ LLM çš„å¯¹è¯å†å²
- æ„å»ºå±å¹•ä¿¡æ¯ï¼ˆæ—¶é—´ã€åº”ç”¨ã€æˆªå›¾ï¼‰
- è°ƒç”¨ OpenAI API è·å–ä¸‹ä¸€æ­¥åŠ¨ä½œ
- å¤„ç†ä¸Šä¸‹æ–‡ä¼˜åŒ–ï¼ˆç§»é™¤å†å²å›¾ç‰‡ï¼‰

#### 2. **ActionExecutor** - åŠ¨ä½œæ‰§è¡Œå™¨
- æ”¯æŒ 18 ç§åŠ¨ä½œç±»å‹ï¼ˆç‚¹å‡»ã€æ»‘åŠ¨ã€è¾“å…¥ç­‰ï¼‰
- åæ ‡è½¬æ¢ï¼ˆ0-999 â†’ å®é™…åƒç´ ï¼‰
- IME è‡ªåŠ¨ç®¡ç†ï¼ˆåˆ‡æ¢åˆ° ADB Keyboardï¼‰
- æ•æ„Ÿæ“ä½œç¡®è®¤æœºåˆ¶

#### 3. **ShizukuManager** - ç³»ç»Ÿé›†æˆ
- Shizuku æƒé™ç®¡ç†
- Shell å‘½ä»¤æ‰§è¡Œ
- å±å¹•æˆªå›¾
- åº”ç”¨åŒ…åè·å–

#### 4. **OverlayService** - æ‚¬æµ®çª—æœåŠ¡
- å‰å°æœåŠ¡æ˜¾ç¤ºä»»åŠ¡çŠ¶æ€
- Compose æ¸²æŸ“æ‚¬æµ®çª— UI
- å®æ—¶æ›´æ–°æ‰§è¡Œè¿›åº¦
- æ”¯æŒæ”¾å¤§/ç¼©å°åŠ¨ç”»

---

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### å¿…éœ€æ¡ä»¶

- **Android ç‰ˆæœ¬**ï¼šAndroid 8.0 (API 26) æˆ–æ›´é«˜
- **Shizuku**ï¼šéœ€è¦å®‰è£…å¹¶è¿è¡Œ [Shizuku](https://github.com/RikkaApps/Shizuku)
- **ADB Keyboard**ï¼šéœ€è¦å®‰è£… [ADB Keyboard](https://github.com/senzhk/ADBKeyBoard)ï¼ˆç”¨äºæ–‡æœ¬è¾“å…¥ï¼‰
- **ç½‘ç»œè¿æ¥**ï¼šéœ€è¦è®¿é—® OpenAI API æˆ–å…¼å®¹çš„ LLM æœåŠ¡

### æ¨èé…ç½®

- **å†…å­˜**ï¼šè‡³å°‘ 4GB RAM
- **å­˜å‚¨**ï¼šè‡³å°‘ 100MB å¯ç”¨ç©ºé—´
- **å±å¹•**ï¼š1080p æˆ–æ›´é«˜åˆ†è¾¨ç‡

### æƒé™è¦æ±‚

- `INTERNET` - ç½‘ç»œè®¿é—®
- `SYSTEM_ALERT_WINDOW` - æ‚¬æµ®çª—æ˜¾ç¤º
- `FOREGROUND_SERVICE` - å‰å°æœåŠ¡
- `POST_NOTIFICATIONS` - é€šçŸ¥æƒé™ï¼ˆAndroid 13+ï¼‰

---

## ğŸ“¦ å®‰è£…

### æ–¹å¼ä¸€ï¼šä» Release ä¸‹è½½

1. å‰å¾€ [Releases](https://github.com/your-repo/Open-AutoGLM/releases) é¡µé¢
2. ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ APK æ–‡ä»¶
3. åœ¨ Android è®¾å¤‡ä¸Šå®‰è£… APK

### æ–¹å¼äºŒï¼šä»æºç æ„å»º

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/your-repo/Open-AutoGLM.git
cd Open-AutoGLM

# æ„å»º Debug ç‰ˆæœ¬
./gradlew assembleDebug

# æ„å»º Release ç‰ˆæœ¬ï¼ˆéœ€è¦ç­¾åé…ç½®ï¼‰
./gradlew assembleRelease

# å®‰è£…åˆ°è®¾å¤‡
./gradlew installDebug
```

### å‰ç½®ä¾èµ–å®‰è£…

#### 1. å®‰è£… Shizuku

```bash
# ä» GitHub ä¸‹è½½
https://github.com/RikkaApps/Shizuku/releases

# æˆ–ä» Google Play å®‰è£…
https://play.google.com/store/apps/details?id=moe.shizuku.privileged.api
```

å¯åŠ¨ Shizukuï¼š
- **Root ç”¨æˆ·**ï¼šç›´æ¥åœ¨åº”ç”¨ä¸­å¯åŠ¨
- **é Root ç”¨æˆ·**ï¼šé€šè¿‡ ADB å¯åŠ¨
  ```bash
  adb shell sh /storage/emulated/0/Android/data/moe.shizuku.privileged.api/start.sh
  ```

#### 2. å®‰è£… ADB Keyboard

```bash
# ä» GitHub ä¸‹è½½
https://github.com/senzhk/ADBKeyBoard/releases

# å®‰è£…åå¯ç”¨è¾“å…¥æ³•
adb shell ime enable com.android.adbkeyboard/.AdbIME
```

---

## ğŸ“± ä½¿ç”¨æŒ‡å—

### é¦–æ¬¡é…ç½®

1. **å¯åŠ¨åº”ç”¨**
   - æ‰“å¼€ TaskWizard åº”ç”¨
   - æˆäºˆæ‚¬æµ®çª—æƒé™
   - æˆäºˆ Shizuku æƒé™

2. **é…ç½® API**
   - ç‚¹å‡»å³ä¸Šè§’è®¾ç½®å›¾æ ‡
   - å¡«å†™ API Key
   - é…ç½® Base URLï¼ˆé»˜è®¤ï¼š`https://api.openai.com/v1/`ï¼‰
   - é€‰æ‹©æ¨¡å‹ï¼ˆé»˜è®¤ï¼š`autoglm-phone`ï¼‰
   - ç‚¹å‡»"ä¿å­˜é…ç½®"

3. **éªŒè¯é…ç½®**
   - è¿”å›ä¸»é¡µé¢
   - åº”ç”¨ä¼šè‡ªåŠ¨è¿›è¡Œç½‘ç»œé¢„æ£€æŸ¥
   - ç¡®è®¤ Shizuku æœåŠ¡æ­£å¸¸è¿è¡Œ

### æ‰§è¡Œä»»åŠ¡

<!-- æ­¤éƒ¨åˆ†ç•™ç©ºï¼Œå¾…åç»­è¡¥å…… -->

### é«˜çº§åŠŸèƒ½

<!-- æ­¤éƒ¨åˆ†ç•™ç©ºï¼Œå¾…åç»­è¡¥å…… -->

### æ•…éšœæ’é™¤

<!-- æ­¤éƒ¨åˆ†ç•™ç©ºï¼Œå¾…åç»­è¡¥å…… -->

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
Open-AutoGLM/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/              # GitHub Actions CI/CD
â”‚       â”œâ”€â”€ build-pr.yml        # PR æ„å»ºå·¥ä½œæµ
â”‚       â””â”€â”€ release.yml         # å‘å¸ƒå·¥ä½œæµ
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/com/taskwizard/android/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ api/        # ç½‘ç»œ API å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ core/       # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ config/     # é…ç½®ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ data/       # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ manager/    # ç®¡ç†å™¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ service/    # Android æœåŠ¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ui/         # UI å±‚ï¼ˆComposeï¼‰
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ utils/      # å·¥å…·ç±»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MainActivity.kt
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TaskWizardApplication.kt
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ TaskScope.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ res/            # èµ„æºæ–‡ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ AndroidManifest.xml
â”‚   â”‚   â””â”€â”€ test/               # å•å…ƒæµ‹è¯•
â”‚   â””â”€â”€ build.gradle.kts        # åº”ç”¨æ¨¡å—æ„å»ºé…ç½®
â”œâ”€â”€ gradle/
â”‚   â””â”€â”€ wrapper/                # Gradle Wrapper
â”œâ”€â”€ build.gradle.kts            # æ ¹é¡¹ç›®æ„å»ºé…ç½®
â”œâ”€â”€ settings.gradle.kts         # é¡¹ç›®è®¾ç½®
â”œâ”€â”€ gradle.properties           # Gradle å±æ€§
â”œâ”€â”€ Icon.png                    # åº”ç”¨å›¾æ ‡
â”œâ”€â”€ LICENSE                     # Apache 2.0 è®¸å¯è¯
â””â”€â”€ README.md                   # æœ¬æ–‡ä»¶
```

### æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

| æ–‡ä»¶/ç›®å½• | è¯´æ˜ |
|----------|------|
| `api/ApiClient.kt` | Retrofit å®¢æˆ·ç«¯é…ç½®å’Œ LLM API æ¥å£ |
| `core/AgentCore.kt` | AI Agent æ ¸å¿ƒé€»è¾‘ |
| `core/ActionExecutor.kt` | åŠ¨ä½œæ‰§è¡Œå™¨ |
| `core/ResponseParser.kt` | AI å“åº”è§£æå™¨ |
| `manager/ShizukuManager.kt` | Shizuku é›†æˆç®¡ç† |
| `service/OverlayService.kt` | æ‚¬æµ®çª—å‰å°æœåŠ¡ |
| `ui/viewmodel/MainViewModel.kt` | ä¸» ViewModel |
| `ui/screens/MainScreen.kt` | ä¸»é¡µé¢ UI |
| `config/SystemPrompt.kt` | AI ç³»ç»Ÿæç¤ºè¯ |
| `config/TimingConfig.kt` | æ“ä½œæ—¶åºé…ç½® |

---

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ç¯å¢ƒå‡†å¤‡

1. **å®‰è£… Android Studio**
   - ä¸‹è½½ [Android Studio](https://developer.android.com/studio)
   - å®‰è£… Android SDK (API 34)
   - å®‰è£… Build Tools (34.0.0)

2. **é…ç½® JDK**
   - ä½¿ç”¨ JDK 17
   - åœ¨ Android Studio ä¸­é…ç½® Gradle JDK

3. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/your-repo/Open-AutoGLM.git
   cd Open-AutoGLM
   ```

### æ„å»ºé¡¹ç›®

```bash
# æ¸…ç†æ„å»º
./gradlew clean

# æ„å»º Debug APK
./gradlew assembleDebug

# è¿è¡Œå•å…ƒæµ‹è¯•
./gradlew test

# è¿è¡Œ Android æµ‹è¯•
./gradlew connectedAndroidTest

# ç”Ÿæˆ Compose ç¼–è¯‘å™¨æŠ¥å‘Š
./gradlew assembleDebug
# æŠ¥å‘Šä½ç½®ï¼šapp/build/compose-metrics å’Œ app/build/compose-reports
```

### ä»£ç è§„èŒƒ

- **Kotlin é£æ ¼**ï¼šéµå¾ª [Kotlin å®˜æ–¹ä»£ç è§„èŒƒ](https://kotlinlang.org/docs/coding-conventions.html)
- **Compose æœ€ä½³å®è·µ**ï¼šå‚è€ƒ [Jetpack Compose æŒ‡å—](https://developer.android.com/jetpack/compose/mental-model)
- **å‘½åçº¦å®š**ï¼š
  - ç±»åï¼šPascalCase
  - å‡½æ•°åï¼šcamelCase
  - å¸¸é‡ï¼šUPPER_SNAKE_CASE
  - Composable å‡½æ•°ï¼šPascalCase

### æµ‹è¯•

é¡¹ç›®åŒ…å«å®Œæ•´çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼š

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
./gradlew test

# è¿è¡Œç‰¹å®šæµ‹è¯•ç±»
./gradlew test --tests "com.taskwizard.android.MainViewModelTest"

# æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š
open app/build/reports/tests/testDebugUnitTest/index.html
```

æµ‹è¯•è¦†ç›–ï¼š
- âœ… ViewModel çŠ¶æ€ç®¡ç†
- âœ… API å®¢æˆ·ç«¯åˆå§‹åŒ–
- âœ… æƒé™ç®¡ç†
- âœ… ä»»åŠ¡åœæ­¢è¡Œä¸º
- âœ… å“åº”è§£æ

### è°ƒè¯•æŠ€å·§

1. **æŸ¥çœ‹ Compose å¸ƒå±€**
   - ä½¿ç”¨ Layout Inspector
   - å¯ç”¨ Compose è°ƒè¯•è¾¹ç•Œ

2. **æ€§èƒ½åˆ†æ**
   - æŸ¥çœ‹ Compose Compiler Metrics
   - ä½¿ç”¨ Android Profiler

3. **æ—¥å¿—è¾“å‡º**
   ```kotlin
   Log.d("TaskWizard", "Debug message")
   ```

---

## âš™ï¸ é…ç½®è¯´æ˜

### API é…ç½®

åœ¨åº”ç”¨è®¾ç½®ä¸­é…ç½®ä»¥ä¸‹å‚æ•°ï¼š

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| **API Key** | OpenAI API å¯†é’¥ | æ—  |
| **Base URL** | API ç«¯ç‚¹åœ°å€ | `https://api.openai.com/v1/` |
| **Model** | ä½¿ç”¨çš„æ¨¡å‹åç§° | `autoglm-phone` |

### æ—¶åºé…ç½®

æ‰€æœ‰æ“ä½œçš„å»¶è¿Ÿæ—¶é—´å¯åœ¨ `TimingConfig.kt` ä¸­è°ƒæ•´ï¼š

```kotlin
object TimingConfig {
    const val AFTER_TAP = 1000L           // ç‚¹å‡»åå»¶è¿Ÿ
    const val AFTER_DOUBLE_TAP = 1000L    // åŒå‡»åå»¶è¿Ÿ
    const val AFTER_LONG_PRESS = 1500L    // é•¿æŒ‰åå»¶è¿Ÿ
    const val AFTER_SWIPE = 1000L         // æ»‘åŠ¨åå»¶è¿Ÿ
    const val AFTER_TYPE = 1000L          // è¾“å…¥åå»¶è¿Ÿ
    // ... æ›´å¤šé…ç½®
}
```

### ç³»ç»Ÿæç¤ºè¯

AI Agent çš„è¡Œä¸ºè§„åˆ™å®šä¹‰åœ¨ `SystemPrompt.kt` ä¸­ï¼ŒåŒ…å«ï¼š
- ä»»åŠ¡æ‰§è¡Œè§„åˆ™
- åŠ¨ä½œç±»å‹è¯´æ˜
- åæ ‡ç³»ç»Ÿå®šä¹‰
- ç‰¹æ®Šåœºæ™¯å¤„ç†

### Gradle é…ç½®

#### å†…å­˜ä¼˜åŒ–ï¼ˆ`gradle.properties`ï¼‰

```properties
# JVM å†…å­˜é…ç½®
org.gradle.jvmargs=-Xmx2048m -XX:MaxMetaspaceSize=512m

# å¹¶è¡Œæ„å»º
org.gradle.parallel=true
org.gradle.caching=true
```

#### ç­¾åé…ç½®ï¼ˆRelease æ„å»ºï¼‰

åœ¨ GitHub Actions ä¸­é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®ï¼š
- `KEYSTORE_FILE` - å¯†é’¥åº“æ–‡ä»¶è·¯å¾„
- `KEYSTORE_PASSWORD` - å¯†é’¥åº“å¯†ç 
- `KEY_ALIAS` - å¯†é’¥åˆ«å
- `KEY_PASSWORD` - å¯†é’¥å¯†ç 

---

## â“ å¸¸è§é—®é¢˜

### Q1: åº”ç”¨æ— æ³•å¯åŠ¨ä»»åŠ¡ï¼Ÿ

**A:** è¯·æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. Shizuku æ˜¯å¦æ­£å¸¸è¿è¡Œ
2. æ˜¯å¦æˆäºˆäº† Shizuku æƒé™
3. API Key æ˜¯å¦æ­£ç¡®é…ç½®
4. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

### Q2: æ–‡æœ¬è¾“å…¥å¤±è´¥ï¼Ÿ

**A:** ç¡®ä¿å·²å®‰è£…å¹¶å¯ç”¨ ADB Keyboardï¼š
```bash
adb shell ime enable com.android.adbkeyboard/.AdbIME
```

### Q3: æ‚¬æµ®çª—æ— æ³•æ˜¾ç¤ºï¼Ÿ

**A:** æ£€æŸ¥æ‚¬æµ®çª—æƒé™ï¼š
- è®¾ç½® â†’ åº”ç”¨ â†’ TaskWizard â†’ æƒé™ â†’ æ˜¾ç¤ºåœ¨å…¶ä»–åº”ç”¨ä¸Šå±‚

### Q4: ä»»åŠ¡æ‰§è¡Œå¤±è´¥ï¼Ÿ

**A:** æŸ¥çœ‹é”™è¯¯ä¿¡æ¯ï¼š
- ä¸»é¡µé¢ä¼šæ˜¾ç¤ºè¯¦ç»†çš„é”™è¯¯æ¶ˆæ¯
- æ£€æŸ¥ Logcat æ—¥å¿—è·å–æ›´å¤šä¿¡æ¯

### Q5: å¦‚ä½•æ›´æ¢ API ç«¯ç‚¹ï¼Ÿ

**A:** åœ¨è®¾ç½®é¡µé¢ä¿®æ”¹ Base URLï¼Œæ”¯æŒä»»ä½•å…¼å®¹ OpenAI API æ ¼å¼çš„æœåŠ¡ã€‚

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### å¦‚ä½•è´¡çŒ®

1. **Fork é¡¹ç›®**
2. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯**
   ```bash
   git checkout -b feature/AmazingFeature
   ```
3. **æäº¤æ›´æ”¹**
   ```bash
   git commit -m 'feat: add some amazing feature'
   ```
4. **æ¨é€åˆ°åˆ†æ”¯**
   ```bash
   git push origin feature/AmazingFeature
   ```
5. **åˆ›å»º Pull Request**

### æäº¤è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

- `feat:` æ–°åŠŸèƒ½
- `fix:` ä¿®å¤ Bug
- `docs:` æ–‡æ¡£æ›´æ–°
- `style:` ä»£ç æ ¼å¼è°ƒæ•´
- `refactor:` ä»£ç é‡æ„
- `perf:` æ€§èƒ½ä¼˜åŒ–
- `test:` æµ‹è¯•ç›¸å…³
- `chore:` æ„å»º/å·¥å…·é“¾ç›¸å…³

### ä»£ç å®¡æŸ¥

æ‰€æœ‰ PR éƒ½éœ€è¦é€šè¿‡ï¼š
- âœ… ä»£ç å®¡æŸ¥
- âœ… CI/CD æ„å»º
- âœ… å•å…ƒæµ‹è¯•

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](LICENSE) è®¸å¯è¯ã€‚

```
Copyright 2024 TaskWizard Contributors

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
```

---

## ğŸ™ è‡´è°¢

- [Open-AutoGLM](https://github.com/THUDM/AutoGLM) - åŸå§‹é¡¹ç›®
- [Shizuku](https://github.com/RikkaApps/Shizuku) - ç³»ç»Ÿæƒé™æ¡†æ¶
- [ADB Keyboard](https://github.com/senzhk/ADBKeyBoard) - æ–‡æœ¬è¾“å…¥å·¥å…·
- [Jetpack Compose](https://developer.android.com/jetpack/compose) - UI æ¡†æ¶

---

## ğŸ“ è”ç³»æ–¹å¼

- **Issues**: [GitHub Issues](https://github.com/your-repo/Open-AutoGLM/issues)
- **Discussions**: [GitHub Discussions](https://github.com/your-repo/Open-AutoGLM/discussions)

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸**

Made with â¤ï¸ by TaskWizard Team

</div>
